import org.bukkit.entity.Player;

import java.util.ArrayList;

public class SneakLibrary {

    public static ArrayList<String> sneakingList;

    public static void handleSneak(Player player) {
        if (sneakingList == null) {
            sneakingList = new ArrayList<>();
        }
        if(SneakLibrary.isSneaking(player.getName()))
            stopSneak(player);
        else
            startSneak(player);
    }

    public static boolean isSneaking(String playerName) {
        if (sneakingList == null) {
            sneakingList = new ArrayList<>();
        }
        return sneakingList.contains(playerName);
    }

    public static void startSneak(Player player) {
        if (sneakingList == null) {
            sneakingList = new ArrayList<>();
        }
        player.setSneaking(true);
        if(!sneakingList.contains(player.getName()))
            sneakingList.add(player.getName());
    }

    public static void stopSneak(Player player) {
        if (sneakingList == null) {
            sneakingList = new ArrayList<>();
        }
        player.setSneaking(false);
        if(sneakingList.contains(player.getName()))
            sneakingList.remove(player.getName());
    }

}
